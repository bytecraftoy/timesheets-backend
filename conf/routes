# Routes
# This file defines all application routes (Higher priority routes first)
# https://www.playframework.com/documentation/latest/ScalaRouting
# ~~~~

# An example controller showing a sample home page
GET         /                          controllers.HomeController.index

# Map static resources from the /public folder to the /assets URL path
GET         /assets/*file              controllers.Assets.versioned(path="/public", file: Asset)

# List all projects as JSON
GET         /projects                  controllers.ProjectController.listProjects

# List timeinput per user and per project for a specified timeinterval TODO: remove default userId
GET         /projects/:id/hours        controllers.TimeInputController.byProject(id: String, userId: String ?= "4276164d-d8c3-47d5-8f65-a6255ce71567", startDate: String ?= "getAll", endDate: String ?= "")

# List users of project(s)
GET         /projects/employees        controllers.ProjectController.getUsersByProject(projects: List[String])

# List all managers [for now, they are just the employees]
GET         /managers                  controllers.ManagerController.listManagers

# List all employees [managers are also employees]
GET         /employees                 controllers.EmployeeController.listEmployees

GET         /employees/:id/clients     controllers.EmployeeController.listClientsOfEmployee(id: String)

# List all clients
GET         /clients                   controllers.ClientController.listClients

# Get a client by client id1
GET         /clientsbyid               controllers.ClientController.byId(id: String)

# Get the projects of a client
GET          /clients/:id/projects     controllers.ProjectController.listProjectsByClientId(id: String)

# Add a client
+ nocsrf # TODO: remove
POST         /clients                  controllers.ClientController.add(name: String, email: String)

# Add a project
POST        /projects                  controllers.ProjectController.addProject

# Update a project
PUT         /projects                  controllers.ProjectController.updateProject

# List user's hours per project TODO: remove default userId
GET         /hours                     controllers.TimeInputController.groupByProject(userId: String ?= "9fa407f4-7375-446b-92c6-c578839b7780", startDate: String ?= "getAll", endDate: String ?= "")

# Add a timeinput
POST        /hours                     controllers.TimeInputController.add

# Update a timeinput
PUT        /hours                      controllers.TimeInputController.update

# GET a client report
GET        /report/client/:id          controllers.ReportController.getClientReport(id: String, projects: List[String], startDate: String, endDate: String, employees: List[String], billable: Boolean ?= true, nonBillable: Boolean ?= true)

# GET a salary report for an employee
GET        /report/employee/:id        controllers.ReportController.getSalaryReport(id: String, clients: List[String], startDate: String, endDate: String, billable: Boolean ?= true, nonBillable: Boolean ?= true)

# Swagger resource listing
GET        /swagger.json               controllers.ApiHelpController.getResources

# Swagger UI
GET        /docs/swagger-ui/*file      controllers.Assets.at(path: String = "/public/lib/swagger-ui", file: String)
